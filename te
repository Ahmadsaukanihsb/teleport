local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local WEBHOOK_URL = "https://discord.com/api/webhooks/1378086156624990361/8qHKxSBQ8IprT1qFn1KkHDWsyRfKXPJkS_4OYzMkBC-PIhGClm0v36uIgzrVwtU1zXh6"

local player = Players.LocalPlayer

-- Fungsi buat data embed yang simpel untuk test
local function createTestEmbed()
    local timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ", os.time())
    local embed = {
        title = "üß™ Test Embed",
        description = "Testing direct webhook embed from Roblox Lua",
        color = 0x1abc9c,
        timestamp = timestamp,
        footer = { text = "Instance ID: "..tostring(game.JobId) },
        fields = {
            {
                name = "Player Info",
                value = string.format("Username: %s\nUserId: %d", player.Name, player.UserId),
                inline = true
            },
            {
                name = "Game Info",
                value = string.format("PlaceId: %d\nJobId: %s", game.PlaceId, tostring(game.JobId)),
                inline = true
            }
        }
    }
    return { embeds = { embed } }
end

local function sendDirectWebhook(payload)
    local jsonPayload = HttpService:JSONEncode(payload)
    local success, response = pcall(function()
        return HttpService:PostAsync(WEBHOOK_URL, jsonPayload, Enum.HttpContentType.ApplicationJson)
    end)

    if success then
        print("‚úÖ Direct webhook send success")
    else
        warn("‚ùå Direct webhook send failed: "..tostring(response))
    end
end

-- Kirim embed test
sendDirectWebhook(createTestEmbed())
